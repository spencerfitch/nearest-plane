{"version":3,"sources":["components/navigation.js","components/plane-animation.js","pages/home.js","pages/about.js","components/loading.js","components/error.js","components/map.js","components/plane-information.js","pages/nearest.js","pages/404.js","App.js","index.js"],"names":["Navigation","Navbar","bg","variant","style","zIndex","Container","fluid","Brand","to","as","Link","className","Provider","value","size","marginRight","Nav","defaultActiveKey","window","location","pathname","href","animatePlane","plane","walls","initWallIdx","Math","floor","random","destWallIdx","coords","initWall","destWall","wallVals","l","r","t","b","Error","Object","keys","join","console","warn","padding","c","genPlanePath","deltaX","dest","init","innerWidth","deltaY","innerHeight","rotation","atan","PI","formatCoord","coord","animate","transform","duration","iterations","composite","onfinish","PlaneAnimation","count","useEffect","document","querySelectorAll","forEach","idx","setTimeout","Array","map","i","Home","Row","minWidth","About","maxWidth","Loading","text","error","retry","IconMarker","label","icon","width","height","OverlayTrigger","placement","delay","show","hide","overlay","Tooltip","LocationMarker","PlaneMarker","track","markerSize","buildMarkers","user","lat","lng","latitude","longitude","true_track","Map","useState","markers","setMarkers","bootstrapURLKeys","key","process","center","defaultZoom","position","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","maps","InformationLabel","field","labels","tip","InformationField","content","String","PlaneInformation","last_contact","date","Date","toLocaleString","layout","on_ground","layouts","ground","air","row","requestGeoLocation","setLocation","setError","navigator","geolocation","getCurrentPosition","geolocationSuccess","log","code","geolocationFailure","geolocationUnsupported","Nearest","userLocation","setUserLocation","nearest","setNearest","n","fetch","then","response","json","data","catch","err","fetchRetry","retryError","getNearestPlane","NotFound","App","hashType","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"s5EA6BeA,EAxBI,kBACjB,cAACC,EAAA,EAAD,CAAQC,GAAG,QAAQC,QAAQ,QAAQC,MAAO,CAACC,OAAQ,GAAnD,SACE,eAACC,EAAA,EAAD,CAAWC,OAAK,EAAhB,UACE,eAACN,EAAA,EAAOO,MAAR,CAAcC,GAAG,IAAIC,GAAIC,IAAMC,UAAU,4BAAzC,UACE,cAAC,IAAYC,SAAb,CAAsBC,MAAO,CAACF,UAAW,eAAgBG,KAAM,KAAMX,MAAO,CAACY,YAAa,QAA1F,SACE,cAAC,IAAD,MAEF,iDAEF,eAACC,EAAA,EAAD,CAAKL,UAAU,UAAUM,iBAAkBC,OAAOC,SAASC,SAA3D,UACE,cAACJ,EAAA,EAAIN,KAAL,CAAUW,KAAK,IAAIb,GAAG,IAAIC,GAAIC,IAA9B,kBAGA,cAACM,EAAA,EAAIN,KAAL,CAAUW,KAAK,WAAWb,GAAG,WAAWC,GAAIC,IAA5C,qBAGA,cAACM,EAAA,EAAIN,KAAL,CAAUW,KAAK,SAASb,GAAG,SAASC,GAAIC,IAAxC,4B,wBCuCFY,G,MAAe,SAAfA,EAAgBC,GACpB,IAAMC,EAAQ,CAAC,IAAK,IAAK,IAAK,KAGxBC,EAAcC,KAAKC,MAAsB,EAAhBD,KAAKE,UAC9BC,GAAeJ,EAAc,EAAEC,KAAKC,MAAsB,EAAhBD,KAAKE,WAAiB,EAGhEE,EA1Da,SAACC,EAAUC,GAC9B,IAAMC,EAAW,CACfC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,GAGL,KAAMN,KAAYE,MAAeD,KAAYC,GAE3C,MAAM,IAAIK,MAAJ,gDAAmDC,OAAOC,KAAKP,GAAUQ,KAAK,MAA9E,qBAAgGV,EAAhG,kBAAkHC,EAAlH,MAEJD,IAAaC,GAEfU,QAAQC,KAAR,iEAAuEZ,EAAvE,MAGF,IAAMP,EAAQ,CACZ,KAAQS,EAASF,GACjB,KAAQE,EAASD,IAEbF,EAAS,CACb,KAAQ,CAAC,EAAE,GACX,KAAQ,CAAC,EAAE,IAGPc,EAAU,CACd,KAAQ,EACR,KAAQ,IAGV,IAAK,IAAIC,KAAKf,EACRN,EAAMqB,GAAK,GAEbf,EAAOe,GAAG,GAAMrB,EAAMqB,GAAG,EAAK,IAAM,EACpCf,EAAOe,GAAG,GAAKD,EAAQC,GAAKnB,KAAKC,MAAMD,KAAKE,UAAY,IAAIgB,EAAQC,OAGpEf,EAAOe,GAAG,GAAKD,EAAQC,GAAKnB,KAAKC,MAAMD,KAAKE,UAAY,IAAIgB,EAAQC,KACpEf,EAAOe,GAAG,GAAMrB,EAAMqB,GAAG,EAAK,IAAM,GAIxC,OAAOf,EAeQgB,CAAatB,EAAMC,GAAcD,EAAMK,IAGhDkB,GAAUjB,EAAOkB,KAAK,GAAKlB,EAAOmB,KAAK,IAAM/B,OAAOgC,WACpDC,GAAUrB,EAAOkB,KAAK,GAAKlB,EAAOmB,KAAK,IAAM/B,OAAOkC,YAEtDC,EAAW3B,KAAKC,MAAiC,IAA3BD,KAAK4B,KAAKH,EAAOJ,GAAcrB,KAAK6B,IAC1DR,EAAS,IAAGM,GAAY,KAG5B,IAAMG,EAAc,SAACC,GAAD,gBAAcA,EAAM,GAApB,eAA6BA,EAAM,GAAnC,OACFlC,EAAMmC,QAAQ,CAC5B,CAACC,UAAU,aAAD,OAAeH,EAAY1B,EAAOmB,MAAlC,oBAAmDI,EAAnD,SACV,CAACM,UAAU,aAAD,OAAeH,EAAY1B,EAAOkB,MAAlC,oBAAmDK,EAAnD,UACX,CACCO,SAAU,IACVC,WAAY,EACZC,UAAW,YAKLC,SAAW,kBAAMzC,EAAaC,MAqB3ByC,EAlBQ,SAAC,GAAe,IAAbC,EAAY,EAAZA,MASxB,OARAC,qBAAU,WACRC,SAASC,iBAAiB,UAAUC,SAAQ,SAAC9C,EAAO+C,GAClDC,YAAW,WACTjD,EAAaC,KACR,IAAJ+C,QAEJ,IAGD,oBAAI3D,UAAU,kBAAd,SACG,YAAI6D,MAAMP,GAAgB,IAAIzB,QAAQiC,KAAI,SAAAC,GAAC,OAC1C,cAAC,IAAD,CAAkB/D,UAAU,SAAb+D,SChERC,EAnCF,kBACX,eAACtE,EAAA,EAAD,CAAWC,OAAK,EAACK,UAAU,kCAA3B,UACE,cAAC,EAAD,IAEA,eAACiE,EAAA,EAAD,CAAKjE,UAAU,aAAaR,MAAO,CAACC,OAAQ,GAA5C,UACE,eAACwE,EAAA,EAAD,CAAKjE,UAAU,0BAAf,UACE,oBAAIA,UAAU,mBAAd,sCAGA,mBAAGA,UAAU,qCAAb,4EAKF,eAACiE,EAAA,EAAD,CAAKjE,UAAU,YAAf,UACE,cAAC,IAAD,CAAMH,GAAG,WACLG,UAAU,gDACVR,MAAO,CAAC0E,SAAU,SAFtB,qCAKA,eAACxE,EAAA,EAAD,CAAWC,OAAK,EAACK,UAAU,mDAA3B,UACE,cAAC,IAAYC,SAAb,CACIC,MAAO,CAACF,UAAU,WAAYG,KAAM,GAAIX,MAAM,CAACY,YAAa,QADhE,SAEE,cAAC,IAAD,MAEF,sBAAMJ,UAAU,gBAAhB,mDCMKmE,EApCD,kBACZ,sBAAKnE,UAAU,qCAAqCR,MAAO,CAAC4E,SAAU,SAAtE,UAEE,oBAAIpE,UAAU,OAAd,yCACA,wIAIA,oBAAIA,UAAU,OAAd,0CACA,6GAEU,mBAAGU,KAAK,uCAAR,6BAFV,oEAKA,onBAMM,mBAAGA,KAAK,2CAAR,kCANN,OASA,oBAAIV,UAAU,OAAd,qCACA,0GAC2E,mBAAGU,KAAK,+BAAR,8BAD3E,OAIA,oBAAIV,UAAU,OAAd,6CACA,2V,QCVWqE,G,MAfC,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OACd,cAAC5E,EAAA,EAAD,CAAWC,OAAK,EAACK,UAAU,kCAA3B,SACE,eAACiE,EAAA,EAAD,CAAKjE,UAAU,kBAAf,UACE,qBAAKA,UAAU,aAAf,SACE,cAAC,IAAD,CAASA,UAAU,oBAEpBsE,GACC,oBAAItE,UAAU,mBAAd,SACGsE,W,QCYI3C,EArBD,SAAC,GAAD,IAAG4C,EAAH,EAAGA,MAAOC,EAAV,EAAUA,MAAV,OACZ,eAAC9E,EAAA,EAAD,CAAWC,OAAK,EAACK,UAAU,kDAA3B,UACE,eAACN,EAAA,EAAD,CAAWC,OAAK,EAACK,UAAU,wDAA3B,UACE,cAAC,IAAYC,SAAb,CAAsBC,MAAO,CAACF,UAAU,eAAgBG,KAAM,KAAMX,MAAM,CAACY,YAAa,QAAxF,SACE,cAAC,IAAD,MAEF,sBAAMJ,UAAU,gBAAhB,wCAIF,mBAAGA,UAAU,cAAb,SACIuE,IAEHC,GACC,mBAAG9D,KAAK,WAAWV,UAAU,0CAA7B,uB,gCCZAyE,EAAa,SAAC,GAAD,IAAGtE,EAAH,EAAGA,KAAMuE,EAAT,EAASA,MAAOC,EAAhB,EAAgBA,KAAM3B,EAAtB,EAAsBA,UAAtB,OACjB,qBAAKxD,MAAO,CACRoF,MAAQzE,GAAe,MACvB0E,OAAS1E,GAAe,MACxB6C,UAAYA,GAAyB,yBAHzC,SAIE,cAAC8B,EAAA,EAAD,CAAgBC,UAAU,QACtBC,MAAO,CAAEC,KAAM,IAAKC,KAAM,KAC1BC,QAAU,cAACC,EAAA,EAAD,UAAUV,IAFxB,SAGIC,OAKFU,EAAiB,SAAC,GAAD,IAAGlF,EAAH,EAAGA,KAAH,OACrB,cAAC,EAAD,CACEuE,MAAM,gBACNC,KACE,cAAC,IAAD,CACE3E,UAAU,eACVG,KAAMA,IACVA,KAAOA,EACP6C,UAAU,2BAGRsC,EAAc,SAAC,GAAD,IAAGnF,EAAH,EAAGA,KAAMoF,EAAT,EAASA,MAAT,OAClB,cAAC,EAAD,CACEb,MAAM,gBACNC,KACE,cAAC,IAAD,CACE3E,UAAU,eACVG,KAAOA,EACPX,MAAO,CAAEwD,UAAU,UAAD,OAAYuC,EAAM,GAAlB,WACtBpF,KAAOA,EACP6C,UAAU,2BAGRwC,EAAa,SACbC,EAAe,SAAEC,EAAM9E,GAAR,4BAEb8E,EAAO,CACT,cAAC,EAAD,CACEC,IAAMD,EAAKC,IACXC,IAAMF,EAAKE,IACXzF,KAAOqF,GAHY,IAIjB,IAPW,YASb5E,EAAQ,CACV,cAAC,EAAD,CACE+E,IAAM/E,EAAMiF,SACZD,IAAMhF,EAAMkF,UACZP,MAAQ3E,EAAMmF,WACd5F,KAAOqF,GAJS,IAKd,MAyBKQ,EApBH,SAAC,GAAqB,IAAnBN,EAAkB,EAAlBA,KAAM9E,EAAY,EAAZA,MACnB,EAA8BqF,qBAA9B,mBAAOC,EAAP,KAAgBC,EAAhB,KAMA,OAJA5C,qBAAU,WACR4C,EAAWV,EAAaC,EAAM9E,MAC7B,CAAC8E,EAAM9E,IAGR,cAAC,IAAD,CACIwF,iBAAkB,CAACC,IAAKC,2CACxBC,OAAQ,CAAEZ,IAAKD,EAAKC,IAAKC,IAAKF,EAAKE,KACnCY,YAAa,GACbhH,MAAO,CAAEqF,OAAQ,OAAQD,MAAO,OAAQ6B,SAAU,YAClDC,oCAAkC,EAClCC,kBAAmB,cAAE7C,IAAF,EAAO8C,KAAP,OAAiBT,EAAWV,EAAaC,EAAM9E,KANtE,SAOIsF,K,gBC1EFW,EAAmB,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OACvB,sBAAM9G,UAAU,mCAAhB,SACE,cAAC8E,EAAA,EAAD,CAAgBC,UAAU,SACtBC,MAAO,CAAEC,KAAM,IAAKC,KAAM,KAC1BC,QAAS,cAACC,EAAA,EAAD,UAAW2B,EAAOD,GAAOE,MAFtC,SAGE,qBAAKhH,UAAU,WAAf,SACI+G,EAAOD,GAAOpC,aAMlBuC,EAAmB,SAAC,GAAD,IAAGH,EAAH,EAAGA,MAAOI,EAAV,EAAUA,QAAV,OACvB,eAACxH,EAAA,EAAD,CAAWM,UAAU,sBAArB,UACE,qBAAKA,UAAU,iBAAf,SACImH,OAAOD,KAEX,cAAC,EAAD,CAAkBJ,MAAOA,QAgCdM,EA5BU,SAAC,GAAe,IAAbxG,EAAY,EAAZA,MAC1B,GAAIA,EAAMyG,aAAc,CACtB,IAAMC,EAAO,IAAIC,KAAwB,IAAnB3G,EAAMyG,cAC5BzG,EAAMyG,aAAeC,EAAKE,iBAE5B,IAAMC,EAAU7G,EAAM8G,UAAaC,EAAQC,OAASD,EAAQE,IAE5D,OACE,eAACnI,EAAA,EAAD,CAAWC,OAAK,EAACK,UAAU,UAA3B,UACE,qBAAKA,UAAU,6BAAf,+BACA,oBAAIA,UAAU,yBAAyBR,MAAO,CAACqF,OAAQ,SAEtD4C,EAAO3D,KAAI,SAACgE,EAAKnE,GAAN,OACV,cAACjE,EAAA,EAAD,CAAqBC,OAAK,EAACK,UAAU,6CAArC,SAEG8H,EAAIhE,KAAI,SAACgD,GAAD,OAAYlG,EAAMkG,IACzB,cAAC,EAAD,CACIA,MAAQA,EACRI,QAAUtG,EAAMkG,IAFIA,OAHZnD,U,iBCqBlBoE,EAAqB,SAAEC,EAAaC,GACpCC,UAAUC,YACZD,UAAUC,YAAYC,oBACpB,SAAC5H,IApDoB,SAAEA,EAAUwH,GACrCA,EAAY,CACVrC,IAAKnF,EAASW,OAAO0E,SACrBD,IAAKpF,EAASW,OAAO2E,YAiDHuC,CAAmB7H,EAAUwH,MAC7C,SAACzD,IA9CoB,SAAEA,EAAO0D,GAClClG,QAAQuG,IAAI/D,GACRA,EAAMgE,MAAuB,IAAfhE,EAAMgE,KACtBN,EAAS,CACP1D,MACE,oFACkD,uBAChD,sBAAMvE,UAAU,WAAhB,mGAKJwE,OAAO,IAITyD,EAAS,CACP1D,MACE,qGACmE,uBACjE,sBAAMvE,UAAU,WAAhB,kDAKJwE,OAAO,IAqBMgE,CAAmBjE,EAAO0D,MAhBd,SAAEA,GAC/BA,EAAS,CACP1D,MACE,iFAC+C,uBAD/C,mGAKFC,OAAO,IAYPiE,CAAuBR,IAoEZS,EArCC,WACd,MAAwCzC,mBAAS,CAC/CN,IAAK,KACLC,IAAK,OAFP,mBAAO+C,EAAP,KAAqBC,EAArB,KAIA,EAA8B3C,qBAA9B,mBAAO4C,EAAP,KAAgBC,EAAhB,KACA,EAA0B7C,mBAAS,CACjC1B,MAAO,KACPC,OAAO,IAFT,mBAAOD,EAAP,KAAc0D,EAAd,KAgBA,OAXA1E,qBAAU,WACRwE,EAAmBa,EAAiBX,KACnC,IAEH1E,qBAAU,WACJoF,EAAahD,KAAOgD,EAAa/C,KA3CjB,SAAEpF,EAAUsI,EAAYb,IAC3B,SAACzH,EAAUuI,GAGxBA,EAAI,EACNC,MAAM,GAAD,OApEK,0CAoEL,wBAA2BxI,EAASmF,IAApC,gBAA+CnF,EAASoF,MAC1DqD,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJN,EAAYM,MAEbC,OAAM,SAAAC,GAAG,OAAI,EAAKC,WAAW/I,EAAUuI,EAAE,MAG5Cd,EAAS,CACP1D,MACE,uGACqE,uBACnE,sBAAMvE,UAAU,WAAhB,kDAEJwJ,YAAY,IAKlBD,CAAW/I,EAAU,GAoBjBiJ,CAAiBd,EAAcG,EAAYb,KAE5C,CAACU,IAGApE,EAAMA,MAAc,cAAC,EAAD,CAAOA,MAAOA,EAAMA,MAAOC,MAAOD,EAAMC,QAC3DqE,EAGH,sBAAK7I,UAAU,6BAAf,UACE,qBAAKA,UAAU,cAAf,SACE,cAAC,EAAD,CACE0F,KAAOiD,EACP/H,MAAQiI,MAEZ,cAAC,EAAD,CAAkBjI,MAAOiI,OATR,cAAC,EAAD,CAASvE,KAAK,+BCnGtBoF,EAlBE,kBACf,eAAChK,EAAA,EAAD,CAAWC,OAAK,EAACK,UAAU,kDAA3B,UACE,eAACN,EAAA,EAAD,CAAWC,OAAK,EAACK,UAAU,wDAA3B,UACE,cAAC,IAAYC,SAAb,CAAsBC,MAAO,CAACF,UAAU,eAAgBG,KAAM,KAAMX,MAAM,CAACY,YAAa,QAAxF,SACE,cAAC,IAAD,MAEF,sBAAMJ,UAAU,gBAAhB,yDAIF,oBAAGA,UAAU,cAAb,6BACkBO,OAAOC,SAASC,SADlC,sBAC8D,sBAAMT,UAAU,WAAhB,iCAC5D,uBAFF,uECgBW2J,EAtBH,kBACV,cAAC,IAAD,CAAQC,SAAS,QAAjB,SACE,sBAAK5J,UAAU,qCAAf,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAO6J,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,WAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,SAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,IAAZ,SACE,cAAC,EAAD,eCnBVC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFzG,SAAS0G,eAAe,W","file":"static/js/main.92c25956.chunk.js","sourcesContent":["import { Container, Navbar, Nav } from 'react-bootstrap';\r\nimport { IconContext } from 'react-icons';\r\nimport { FaPlane } from 'react-icons/fa';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Navigation = () => (\r\n  <Navbar bg=\"white\" variant=\"light\" style={{zIndex: 1}}>\r\n    <Container fluid>\r\n      <Navbar.Brand to=\"/\" as={Link} className=\"d-flex align-items-center\">\r\n        <IconContext.Provider value={{className: 'text-primary', size: '30', style: {marginRight: \"5px\"}}}>\r\n          <FaPlane />\r\n        </IconContext.Provider>\r\n        <b>Nearest Plane</b>\r\n      </Navbar.Brand>\r\n      <Nav className=\"me-auto\" defaultActiveKey={window.location.pathname}>\r\n        <Nav.Link href=\"/\" to=\"/\" as={Link}>\r\n          Home\r\n        </Nav.Link>\r\n        <Nav.Link href=\"/nearest\" to=\"/nearest\" as={Link}>\r\n          Nearest\r\n        </Nav.Link>\r\n        <Nav.Link href=\"/about\" to=\"/about\" as={Link}>\r\n          About\r\n        </Nav.Link>\r\n      </Nav>\r\n    </Container>\r\n  </Navbar>\r\n);\r\n\r\nexport default Navigation;","import { useEffect } from 'react';\r\nimport { FaPlane } from 'react-icons/fa';\r\nimport '../styles/plane-animation.css';\r\n\r\n/**\r\n * Generate animation coordinates based on specified walls\r\n * @param {Object} initWall Wall (l,r,t,b) plane will enter the screen from\r\n * @param {String} destWall Wall (l,r,t,b) plane will exit the screen through \r\n * @returns {Object} Coordinates object of form {'init': [left, top], 'dest': [left, top]}\r\n */\r\nconst genPlanePath = (initWall, destWall) => {\r\n  const wallVals = {\r\n    l: 0,\r\n    r: 1,\r\n    t: 2,\r\n    b: 3\r\n  };\r\n\r\n  if (!(initWall in wallVals) || !(destWall in wallVals)) {\r\n    // Invalid wall provided\r\n    throw new Error(`initWall and destWall must be one of [${Object.keys(wallVals).join(', ')}]. Given '${initWall}' and '${destWall}'`);\r\n  };\r\n  if (initWall === destWall) {\r\n    // Identical walls provided\r\n    console.warn(`genPlanePath: Generating a path between the same wall '${initWall}'`);\r\n  };\r\n\r\n  const walls = {\r\n    'init': wallVals[initWall],\r\n    'dest': wallVals[destWall]\r\n  }\r\n  const coords = {\r\n    'init': [0,0],\r\n    'dest': [1,1]\r\n  }\r\n  // Coordinate padding to prevent small corner flights\r\n  const padding = {\r\n    'init': 0,\r\n    'dest': 30\r\n  }\r\n  // Populate coordinates\r\n  for (let c in coords) {\r\n    if (walls[c] < 2) {\r\n      // Left or Right wall\r\n      coords[c][0] = (walls[c]%2) ? 110 : 0;\r\n      coords[c][1] = padding[c] + Math.floor(Math.random() * (100-padding[c]));\r\n    } else {\r\n      // Top or Bottom wall\r\n      coords[c][0] = padding[c] + Math.floor(Math.random() * (100-padding[c]));\r\n      coords[c][1] = (walls[c]%2) ? 110 : 0;\r\n    }\r\n  }\r\n\r\n  return coords;  \r\n}\r\n\r\n/**\r\n * Generate animation for a particular plane\r\n * @param {Object} plane DOM plane element to animate\r\n */\r\nconst animatePlane = (plane) => {\r\n  const walls = ['l', 'r', 't', 'b']\r\n\r\n  // Determine initial and destination walls\r\n  const initWallIdx = Math.floor(Math.random() * 4);\r\n  const destWallIdx = (initWallIdx + 1+Math.floor(Math.random() * 3)) % 4;\r\n  \r\n  // Determine path coordinates\r\n  const coords = genPlanePath(walls[initWallIdx], walls[destWallIdx]);\r\n\r\n  // Determine path rotation angle\r\n  const deltaX = (coords.dest[0] - coords.init[0]) * window.innerWidth;\r\n  const deltaY = (coords.dest[1] - coords.init[1]) * window.innerHeight;\r\n  \r\n  let rotation = Math.floor(Math.atan(deltaY/deltaX) * 180/Math.PI);\r\n  if (deltaX < 0) rotation += 180;\r\n\r\n  // Create animation\r\n  const formatCoord = (coord) => `${coord[0]}vw, ${coord[1]}vh`\r\n  const animation = plane.animate([\r\n      {transform: `translate(${formatCoord(coords.init)}) rotate(${rotation}deg)`},\r\n      {transform: `translate(${formatCoord(coords.dest)}) rotate(${rotation}deg)`}\r\n  ], {\r\n      duration: 5000,\r\n      iterations: 1,\r\n      composite: 'replace'\r\n  });\r\n\r\n  // Recursively reanimate plane each iteration.\r\n  // Enables random generation of pane paths.\r\n  animation.onfinish = () => animatePlane(plane);\r\n}\r\n\r\nconst PlaneAnimation = ({ count }) => {\r\n  useEffect(() => {\r\n    document.querySelectorAll('.plane').forEach((plane, idx) => {\r\n      setTimeout(() => {\r\n        animatePlane(plane);\r\n      }, idx*500);\r\n    });\r\n  }, [])\r\n\r\n  return (\r\n    <ul className=\"plane-container\">\r\n      {[...Array(count ? count : 10).keys()].map(i => (\r\n        <FaPlane  key={i} className=\"plane\" />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default PlaneAnimation;\r\n","import { Container, Row } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { IconContext } from 'react-icons/lib';\r\nimport { BsExclamationCircle } from 'react-icons/bs';\r\nimport PlaneAnimation from '../components/plane-animation';\r\n\r\nconst Home = () => (\r\n  <Container fluid className=\"h-100 d-flex align-items-center\">\r\n    <PlaneAnimation />\r\n\r\n    <Row className=\"w-100 mx-0\" style={{zIndex: 1}}>\r\n      <Row className=\"align-items-center mx-0\">\r\n        <h4 className=\"text-center fs-1\">\r\n          Welcome to Nearest Plane\r\n        </h4>\r\n        <p className=\"w-100 text-center m-auto mb-5 fs-4\">\r\n          Discover the world of airplanes flying right over your head\r\n        </p>\r\n      </Row>\r\n\r\n      <Row className=\"mt-3 mx-0\">\r\n        <Link to=\"/nearest\" \r\n            className=\"btn btn-primary w-50 m-auto btn-lg text-white\" \r\n            style={{minWidth: '250px'}} >\r\n          Find your Nearest Plane\r\n        </Link>\r\n        <Container fluid className=\"d-flex align-items-center justify-content-center\">\r\n          <IconContext.Provider \r\n              value={{className:'fw-light', size: 15, style:{marginRight: '3px'}}}>\r\n            <BsExclamationCircle />\r\n          </IconContext.Provider>\r\n          <span className=\"fw-light fs-6\">\r\n            Location access required\r\n          </span>\r\n        </Container>\r\n      </Row>\r\n    </Row>\r\n\r\n  </Container>\r\n);\r\n\r\nexport default Home;","\r\nconst About = () => (\r\n  <div className=\"container container-fluid bg-light\" style={{maxWidth: '900px'}}>\r\n    \r\n    <h4 className=\"mt-4\">What does Nearest Plane do?</h4>\r\n    <p>\r\n      Nearest Plane gives you real-time information about the plane that is closest to your current location. \r\n    </p>\r\n\r\n    <h4 className=\"mt-4\">How does Nearest Plane work?</h4>\r\n    <p>\r\n      Nearest Plane uses a combination of your browser's current location \r\n      and the <a href=\"https://https://opensky-network.org/\">OpenSky Network</a> to\r\n      find the plane that is closest to you at any given moment. \r\n    </p>\r\n    <p>\r\n      In more technical terms, the React front-end (that you're looking at right now) sends a request with your location\r\n      to a Node.js back-end server. That Node.js server then validates the request from the front-end\r\n      and makes a request to the OpenSky API asking for information about aircraft in your area. Once the\r\n      Node.js server gets a response back from OpenSky, it determines the closest plane to your location, repackages that plane's information, and sends it on to the React front-end\r\n      where it can be interepreted and displayed for you to enjoy. If you still want to learn more, check out\r\n      the <a href=\"https://github.com/s-fitch/nearest-plane\">Nearest Plane GitHub</a>.\r\n    </p>\r\n\r\n    <h4 className=\"mt-4\">Who made Nearest Plane?</h4>\r\n    <p>\r\n      I did! If you want to learn more about me, you can check out my website: <a href='https://www.spencerfitch.com'>spencerfitch.com</a>.\r\n    </p>\r\n\r\n    <h4 className=\"mt-4\">Why did you make Nearest Plane?</h4>\r\n    <p>\r\n      I often found myself looking up at the planes passing by in the sky above my head and wondering what stories they had to tell. My goal in creating Nearest Plane was to provide a quick, intuitive platform for hearing these storiees and learning a little more about the planes that fly above our heads every day.\r\n    </p>\r\n      \r\n  </div>\r\n);\r\n\r\nexport default About;","import { Container, Row } from 'react-bootstrap';\r\nimport { FaPlane } from 'react-icons/fa';\r\n\r\nimport '../styles/loading.css'\r\n\r\nconst Loading = ({ text }) => (\r\n  <Container fluid className=\"h-100 d-flex align-items-center\">\r\n    <Row className=\"w-100 mx-0 mb-5\">\r\n      <div className=\"plane-path\">\r\n        <FaPlane className=\"plane-loading\"/>\r\n      </div>\r\n      {text && (\r\n        <h4 className='text-center mt-2'>\r\n          {text}\r\n        </h4>\r\n      )}\r\n    </Row>\r\n  </Container>\r\n);\r\n\r\nexport default Loading;","import { Container } from 'react-bootstrap'\r\nimport { IconContext } from 'react-icons';\r\nimport { BiErrorAlt } from 'react-icons/bi';\r\n\r\nconst Error = ({ error, retry }) => (\r\n  <Container fluid className=\"h-100 d-flex flex-column justify-content-center\">\r\n    <Container fluid className=\"d-flex align-items-center justify-content-center mb-2\">\r\n      <IconContext.Provider value={{className:'text-primary', size: '40', style:{marginRight: '5px'}}}>\r\n        <BiErrorAlt />\r\n      </IconContext.Provider>\r\n      <span className=\"fw-bold fs-4 \">\r\n        Uh-oh, this is an error\r\n      </span>\r\n    </Container>\r\n    <p className=\"text-center\">\r\n      { error }\r\n    </p>\r\n    {retry && (\r\n      <a href='/nearest' className='btn btn-primary text-white w-25 mx-auto'>\r\n        Retry\r\n      </a>\r\n    )}          \r\n  </Container>\r\n);\r\n\r\nexport default Error;","import { useEffect, useState } from 'react';\r\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport { IoLocationSharp } from 'react-icons/io5';\r\nimport { FaPlane } from 'react-icons/fa';\r\n\r\nconst IconMarker = ({ size, label, icon, transform }) => (\r\n  <div style={{\r\n      width: (size) ? size : '1em',\r\n      height: (size) ? size : '1em',\r\n      transform: (transform) ? transform : 'translate(-50%, -50%)' }} >\r\n    <OverlayTrigger placement='right'\r\n        delay={{ show: 150, hide: 300 }}\r\n        overlay={ <Tooltip>{label}</Tooltip> }>\r\n      { icon }\r\n    </OverlayTrigger>\r\n  </div>\r\n);\r\n\r\nconst LocationMarker = ({ size }) => (\r\n  <IconMarker \r\n    label='Your Location'\r\n    icon={ \r\n      <IoLocationSharp \r\n        className='text-primary' \r\n        size={size} /> }\r\n    size={ size }\r\n    transform='translate(-50%, -95%)' />\r\n);\r\n\r\nconst PlaneMarker = ({ size, track }) => (\r\n  <IconMarker \r\n    label='Nearest Plane'\r\n    icon={\r\n      <FaPlane\r\n        className='text-primary'\r\n        size={ size }\r\n        style={{ transform: `rotate(${track-90}deg)` }} /> }\r\n    size={ size }\r\n    transform='translate(-50%, -50%)' />\r\n);\r\n\r\nconst markerSize = \"2.25em\";\r\nconst buildMarkers = ( user, plane ) => (\r\n  [\r\n    ...(user ? [\r\n      <LocationMarker key={0} \r\n        lat={ user.lat }\r\n        lng={ user.lng }\r\n        size={ markerSize } />\r\n      ] : [] \r\n    ), \r\n    ...(plane ? [\r\n      <PlaneMarker key={1}\r\n        lat={ plane.latitude }\r\n        lng={ plane.longitude}\r\n        track={ plane.true_track }\r\n        size={ markerSize } />\r\n      ] : [] \r\n    )\r\n  ]\r\n);\r\n\r\nconst Map = ({ user, plane }) => {\r\n  const [markers, setMarkers] = useState();\r\n\r\n  useEffect(() => {\r\n    setMarkers(buildMarkers(user, plane));\r\n  }, [user, plane]);\r\n\r\n  return (\r\n    <GoogleMapReact \r\n        bootstrapURLKeys={{key: process.env.REACT_APP_GOOGLE_MAPS_API_KEY}}\r\n        center={{ lat: user.lat, lng: user.lng }}\r\n        defaultZoom={10}\r\n        style={{ height: \"100%\", width: \"100%\", position: 'relative' }}\r\n        yesIWantToUseGoogleMapApiInternals\r\n        onGoogleApiLoaded={({map, maps}) => setMarkers(buildMarkers(user, plane))}>        \r\n      { markers }\r\n    </GoogleMapReact>\r\n  );\r\n}\r\n\r\nexport default Map;","import { Container, OverlayTrigger, Tooltip } from 'react-bootstrap';\r\nimport layouts from '../content/plane-information-layouts.json';\r\nimport labels from '../content/plane-information-labels.json';\r\n\r\nconst InformationLabel = ({ field }) => (\r\n  <span className=\"d-inline-flex align-items-center\">\r\n    <OverlayTrigger placement=\"bottom\"\r\n        delay={{ show: 250, hide: 400 }}\r\n        overlay={<Tooltip>{ labels[field].tip }</Tooltip>} >  \r\n      <div className='fw-light'>\r\n        { labels[field].label }\r\n      </div>\r\n    </OverlayTrigger>\r\n  </span>\r\n);\r\n\r\nconst InformationField = ({ field, content }) => (\r\n  <Container className='m-0 p-1 text-center'>\r\n    <div className='display-6 fs-2'>\r\n      { String(content) }\r\n    </div>\r\n    <InformationLabel field={field} />\r\n  </Container>\r\n);\r\n\r\nconst PlaneInformation = ({ plane }) => {\r\n  if (plane.last_contact) {\r\n    const date = new Date(plane.last_contact*1000);\r\n    plane.last_contact = date.toLocaleString()\r\n  }\r\n  const layout = (plane.on_ground) ? layouts.ground : layouts.air;\r\n      \r\n  return (\r\n    <Container fluid className='m-0 p-0'>\r\n      <div className=\"text-center display-6 mt-1\">Plane Information</div>\r\n      <hr className=\"mx-auto mb-2 mt-0 w-75\" style={{height: '2px'}} />\r\n      \r\n      {layout.map((row, idx) => (\r\n        <Container key={idx} fluid className='m-0 mt-2 p-0 d-flex justify-content-center'>\r\n          \r\n          {row.map((field) => (plane[field] && (\r\n            <InformationField key={ field }\r\n                field={ field }\r\n                content={ plane[field] }/>\r\n          )))}\r\n\r\n        </Container>\r\n      ))}\r\n\r\n    </Container>  \r\n  );  \r\n};\r\n\r\nexport default PlaneInformation;\r\n","import { useEffect, useState } from 'react';\r\nimport Loading from '../components/loading';\r\nimport Error from '../components/error';\r\nimport Map from '../components/map';\r\nimport PlaneInformation from '../components/plane-information';\r\nimport '../styles/nearest.css';\r\n\r\n//const baseUrl = \"http://localhost:8081/api\"\r\nconst baseUrl = 'https://nearest-plane.herokuapp.com/api';\r\n\r\nconst geolocationSuccess = ( location, setLocation ) => {\r\n  setLocation({\r\n    lat: location.coords.latitude,\r\n    lng: location.coords.longitude\r\n  });\r\n}\r\n\r\nconst geolocationFailure = ( error, setError ) => {\r\n  console.log(error);\r\n  if (error.code && error.code === 1) {\r\n    setError({\r\n      error: (\r\n        <span>\r\n          It seems we were denied access to your location.<br/>\r\n          <span className='fw-light'>\r\n            You'll need to provide us access to your location to conintue using Nearest Plane.\r\n          </span>\r\n        </span>\r\n      ),\r\n      retry: false\r\n    });\r\n\r\n  } else {\r\n    setError({\r\n      error: (\r\n        <span>\r\n          We encountered an unexpected error when retreiving your location.<br/>\r\n          <span className='fw-light'>\r\n            Trying again might fix the issue.\r\n          </span>\r\n        </span>\r\n      ),\r\n      retry: true\r\n    })\r\n  }  \r\n}\r\n\r\nconst geolocationUnsupported = ( setError ) => {\r\n  setError({\r\n    error: (\r\n      <span>\r\n        Geolocation is not supported by this browser.<br/>\r\n        Please update your browser settings or use a different browser in order to use Nearest Plane.\r\n      </span>\r\n    ),\r\n    retry: false\r\n  });\r\n}\r\n\r\nconst requestGeoLocation = ( setLocation, setError ) => {\r\n  if (navigator.geolocation) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      (location) => { geolocationSuccess(location, setLocation) },\r\n      (error) => { geolocationFailure(error, setError) }\r\n    )\r\n\r\n  } else {\r\n    geolocationUnsupported(setError);\r\n  }\r\n}\r\n\r\nconst getNearestPlane = ( location, setNearest, setError ) => {\r\n  const fetchRetry = (location, n) => { \r\n    // console.log(`Try ${n}`);\r\n    // Maximum of 3 retry attempts for single request\r\n    if (n < 3) {\r\n      fetch(`${baseUrl}/nearest?lat=${location.lat}&lon=${location.lng}`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          setNearest( data)\r\n        })\r\n        .catch(err => this.fetchRetry(location, n+1));\r\n\r\n    } else {\r\n      setError({\r\n        error: (\r\n          <span>\r\n            We weren't able to retrieve the plane information from our servers.<br/>\r\n            <span className=\"fw-light\">Trying again might fix the issue.</span>\r\n          </span>),\r\n        retryError: true\r\n      });\r\n    }\r\n  }\r\n\r\n  fetchRetry(location, 0);\r\n}\r\n\r\nconst Nearest = () => {\r\n  const [userLocation, setUserLocation] = useState({\r\n    lat: null,\r\n    lng: null\r\n  });\r\n  const [nearest, setNearest] = useState();\r\n  const [error, setError] = useState({\r\n    error: null,\r\n    retry: false\r\n  });\r\n\r\n  useEffect(() => {\r\n    requestGeoLocation(setUserLocation, setError);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (userLocation.lat && userLocation.lng) {\r\n      getNearestPlane( userLocation, setNearest, setError);\r\n    }\r\n  }, [userLocation]);\r\n\r\n\r\n  if (error.error) return <Error error={error.error} retry={error.retry} />\r\n  if (!nearest) return <Loading text=\"Locating nearest plane...\"/>\r\n\r\n  return (\r\n    <div className=\"bg-light nearest-container\">\r\n      <div className=\"nearest-map\">\r\n        <Map \r\n          user={ userLocation }\r\n          plane={ nearest }/>\r\n      </div>\r\n      <PlaneInformation plane={nearest} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Nearest;","import { Container } from 'react-bootstrap'\r\nimport { IconContext } from 'react-icons';\r\nimport { BiErrorAlt } from 'react-icons/bi';\r\n\r\nconst NotFound = () => (\r\n  <Container fluid className=\"h-100 d-flex flex-column justify-content-center\">\r\n    <Container fluid className=\"d-flex align-items-center justify-content-center mb-2\">\r\n      <IconContext.Provider value={{className:'text-primary', size: '40', style:{marginRight: '5px'}}}>\r\n        <BiErrorAlt/>\r\n      </IconContext.Provider>\r\n      <span className=\"fw-bold fs-4 \">\r\n        This page isn't what you're looking for.\r\n      </span>\r\n    </Container>\r\n    <p className=\"text-center\">\r\n      We can't find \"{window.location.pathname}\" on this website. <span className=\"fw-light\">That's all we know.</span>\r\n      <br/>\r\n      Use the navigation bar above to go to one of our other pages.\r\n    </p>\r\n  </Container>\r\n);\r\n\r\nexport default NotFound;","import {HashRouter as Router, Switch, Route} from 'react-router-dom';\nimport './styles/custom_bootstrap.css'\nimport Navigation from './components/navigation';\nimport Home from './pages/home';\nimport About from './pages/about';\nimport Nearest from './pages/nearest';\nimport NotFound from './pages/404';\n\nconst App = () => (\n  <Router hashType=\"slash\">\n    <div className=\"vh-100 d-flex flex-column bg-light\">\n      <Navigation />\n      <Switch>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n        <Route path=\"/nearest\">\n          <Nearest />\n        </Route>\n        <Route path=\"/about\">\n          <About />\n        </Route>\n        <Route path=\"*\">\n          <NotFound />\n        </Route>\n      </Switch>\n    </div>\n  </Router>    \n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}